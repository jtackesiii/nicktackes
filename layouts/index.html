<!DOCTYPE html>
<html lang="en-US">
  <head>
    {{ partial "head.html"}}
    <title>{{.Title}}</title>
  </head>
  <body>
    <main>
      {{ partial "sidebar.html" . }}
      {{ partial "about.html" . }}
      {{ partial "research.html" . }}
      {{ partial "teaching.html" . }}
      {{ partial "cv/_cv.html" . }}
    </main>
    {{ partial "footer.html" . }}
  </body>
  <script>
    // default anchor and tabindex override
    function openAnchor() {
      if (screen.width > 700 && window.location.hash != "/admin/") {
        window.location.hash = "#{{ .Site.Params.sidebar.landing }}";
      }
    }
    openAnchor();

    // credits modal
    const modalOpen = document.querySelector("#credits-open");
    const modalClose = document.querySelector("#credits-close");
    const modal = document.querySelector("#credits");
    modalOpen.addEventListener("click", () => {
      if (modal.open) {
        modal.close();
      } else {
        modal.show();
      }
    });
    modalClose.addEventListener("click", () => {
      modal.close();
    });
  </script>
</html>
